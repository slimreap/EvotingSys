{% extends 'base_voter.html' %} {% block content %} {% load static %}
<div class="container">
  <main>
    <div class="row">
      <div class="col-12">
        <h1 class="display-5 txt-green" id="myprofile-heading">My Profile</h1>
      </div>
    </div>
    <div class="row">
      <div class="col-12 d-flex justify-content-center align-items-center">
        <img src="{% if userprf.User_Img %}        
          {{ userprf.User_Img.url }}    
          {% else %} 
          {% static '../static/imgs/jennie.jpg' %}
          {% endif %}" alt="User photo" style="
            width: 10rem;
            height: 10rem;
            border: #555 10px double;
            object-fit: cover;
          " class="rounded-circle" />
      </div>

    </div>
    <div class="row">
      <div class="col-12">
        <form class="text-start px-5 d-flex flex-column justify-content-between align-items-center mb-4"
          id="user-profile-form" method="POST" enctype='multipart/form-data' action="{% if userprf.user_id %}{% url 'accounts:myprofile_update' %}{% else %}{% url 'accounts:regvoterprf' %}{% endif %}"> 
{% csrf_token %}
          <div class="col-12 d-flex justify-content-center align-items-center mt-3">
            <label for="profilephoto" style="
              background: rgb(211, 213, 212);
              color: #555;
              padding: 0.5rem 1rem;
              cursor: pointer;
            " class="rounded">Choose your profile photo</label><br />
            <input type="file" class="user-photo-inp" name="User_Img" id="profilephoto" value="" accept="image/*"
              required />
          </div>
          <div class="user-name text-center">
            <input type="text" name="name" id="username" value="{{userprf.name}}" class="text-center" style="margin-bottom: .2rem;" readonly /><br>
            <label for="name" class="text-center" style="margin-top: -1.5rem; margin-bottom: 1.5rem;">Name</label>
          </div>
          <div class="user-id text-center">
            <input type="text" name="stud_id" id="userid" value="{{userprf.stud_id}}" class="text-center"
              readonly  style="margin-bottom: .2rem;"  /><br />
            <label for="password1" style="margin-top: -1.5rem; margin-bottom: 1.5rem;">Student ID</label>
          </div>
          <div class="user-info text-center">
            <input type="text" name="course_year_and_section" id="userinfo" value="{{userprf.course_year_and_section}}"
              class="text-center" style="margin-bottom: .2rem;" readonly /><br />
            <label for="password1" style="margin-top: -1.5rem;">Course, Year, and Section</label>
          </div>
          <div class="user-email text-center mt-4">
            <input type="email" name="useremail" id="useremail" value="{{user.email}}" class="text-center"
              readonly style="margin-bottom: 0rem;" /><br />
            <label for="password1" style="margin-top: -1.5rem;" >WMSU Email</label>
          </div>

          <p class="mt-4" style="margin-bottom: -0.4rem">
            <a href="{% url 'accounts:changepadvtr' %}" class="txt-green changepass" style="font-weight: bold"><i>Change
                Password</i></a>
          </p>

          <div id="btn-profile-edit" class="btn bg-greenn text-decoration-none px-5 py-2 mt-3 rounded-pill"
            style="font-weight: 700">
            EDIT
          </div>
          <button 
          type="submit" 
          id="btn-profile-save" class="btn bg-greenn text-decoration-none px-5 py-2 mt-3 rounded-pill hidden"
            style="font-weight: 700">
            SAVE
        </button>
        </form>
      </div>
    </div>
  </main>
</div>

<script src="{% static 'js/voterprf.js' %}"></script>
{% endblock %}
